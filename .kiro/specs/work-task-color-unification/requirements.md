# 業務依頼リストのカラー統一

## 1. 概要

業務依頼リストのヘッダーカラーは紫（`#9c27b0`）で定義されているが、一覧ページや詳細モーダルで統一的に適用されていない。全ての業務依頼関連画面で紫色のテーマカラーを統一して適用する。

## 2. 背景

- 業務依頼のテーマカラーは`SECTION_COLORS.workTask`で紫（`#9c27b0`）と定義済み
- 売主リスト（オレンジ）、買主リスト（緑）、物件リスト（青）は既にカラー統一されている
- 業務依頼リストも同様にカラーを統一することで、ユーザーがどのセクションにいるか視覚的に分かりやすくする

## 3. 現在の状態

### 定義済みのカラー
```typescript
workTask: {
  main: '#9c27b0',    // 紫
  light: '#ba68c8',   // 薄い紫
  dark: '#7b1fa2',    // 濃い紫
  contrastText: '#fff',
}
```

### 適用されていない箇所
1. **業務依頼一覧ページ（WorkTasksPage.tsx）**
   - ページタイトル
   - テーブルヘッダー
   - 物件番号のリンク色
   - ステータスチップの色

2. **業務詳細モーダル（WorkTaskDetailModal.tsx）**
   - タブの選択色（現在は赤色 `error.main`）
   - タブのインジケーター色
   - 保存ボタンの色

3. **業務依頼セクション（WorkTaskSection.tsx）**
   - セクションタイトル
   - カテゴリヘッダー

## 4. ユーザーストーリー

### US-1: 業務依頼一覧ページのカラー統一
**As a** ユーザー  
**I want** 業務依頼一覧ページで紫色のテーマカラーを見る  
**So that** どのセクションにいるか視覚的に分かりやすくなる

**受け入れ基準:**
- [ ] ページタイトル「業務依頼」が紫色で表示される
- [ ] テーブルヘッダーの背景色が薄い紫色になる
- [ ] 物件番号のリンク色が紫色になる
- [ ] ステータスチップの色が紫色ベースになる（警告は除く）
- [ ] サイドバーの選択状態が紫色で表示される

### US-2: 業務詳細モーダルのカラー統一
**As a** ユーザー  
**I want** 業務詳細モーダルで紫色のテーマカラーを見る  
**So that** 業務依頼の編集中であることが視覚的に分かりやすくなる

**受け入れ基準:**
- [ ] タブの選択色が紫色になる（現在の赤色から変更）
- [ ] タブのインジケーター色が紫色になる
- [ ] 保存ボタンの色が紫色になる
- [ ] ボタン選択時の色が紫色になる

### US-3: 業務依頼セクションのカラー統一
**As a** ユーザー  
**I want** 売主詳細ページの業務依頼セクションで紫色のテーマカラーを見る  
**So that** 業務依頼セクションであることが視覚的に分かりやすくなる

**受け入れ基準:**
- [ ] セクションタイトル「業務依頼」が紫色で表示される
- [ ] カテゴリヘッダーの背景色が薄い紫色になる
- [ ] 展開/折りたたみボタンのホバー色が紫色ベースになる

## 5. 技術的な詳細

### 対象ファイル
1. `frontend/src/pages/WorkTasksPage.tsx` - 業務依頼一覧ページ
2. `frontend/src/components/WorkTaskDetailModal.tsx` - 業務詳細モーダル
3. `frontend/src/components/WorkTaskSection.tsx` - 業務依頼セクション

### 使用するカラー定義
```typescript
import { SECTION_COLORS } from '../theme/sectionColors';

const workTaskColor = SECTION_COLORS.workTask;
// workTaskColor.main    -> '#9c27b0' (メイン紫)
// workTaskColor.light   -> '#ba68c8' (薄い紫)
// workTaskColor.dark    -> '#7b1fa2' (濃い紫)
```

### 適用箇所の詳細

#### WorkTasksPage.tsx
- ページタイトル: `color: workTaskColor.main`
- テーブルヘッダー: `bgcolor: workTaskColor.light + '20'` (透明度20%)
- 物件番号リンク: `color: workTaskColor.main`
- サイドバー選択: `bgcolor: workTaskColor.light + '30'`

#### WorkTaskDetailModal.tsx
- タブ選択色: `color: workTaskColor.main` (現在の `error.main` から変更)
- タブインジケーター: `backgroundColor: workTaskColor.main`
- 保存ボタン: `color="primary"` を `sx={{ bgcolor: workTaskColor.main }}` に変更
- ボタン選択: `color="primary"` を `sx={{ bgcolor: workTaskColor.main }}` に変更

#### WorkTaskSection.tsx
- セクションタイトル: `color: workTaskColor.main`
- カテゴリヘッダー: `bgcolor: workTaskColor.light + '20'`
- ホバー色: `hover:bg-[${workTaskColor.light}30]`

## 6. 制約事項

### 変更してはいけないもの
- 警告色（黄色/オレンジ）: 「未」「要」などの警告ステータスは現在の色を維持
- エラー色（赤色）: エラーメッセージは赤色を維持
- 成功色（緑色）: 成功メッセージは緑色を維持

### 他のシステムへの影響
- 売主リスト（オレンジ）: 影響なし
- 買主リスト（緑）: 影響なし
- 物件リスト（青）: 影響なし

## 7. テスト計画

### 視覚的確認
1. 業務依頼一覧ページを開く
   - [ ] ページタイトルが紫色
   - [ ] テーブルヘッダーが薄い紫色
   - [ ] 物件番号が紫色のリンク
   - [ ] サイドバーの選択状態が紫色

2. 業務詳細モーダルを開く
   - [ ] タブの選択色が紫色
   - [ ] タブのインジケーターが紫色
   - [ ] 保存ボタンが紫色
   - [ ] ボタン選択時の色が紫色

3. 売主詳細ページの業務依頼セクションを確認
   - [ ] セクションタイトルが紫色
   - [ ] カテゴリヘッダーが薄い紫色

### 他のセクションへの影響確認
- [ ] 売主リストのオレンジ色が維持されている
- [ ] 買主リストの緑色が維持されている
- [ ] 物件リストの青色が維持されている

## 8. 完了条件

- [ ] 全ての業務依頼関連画面で紫色のテーマカラーが統一されている
- [ ] 警告色・エラー色・成功色は変更されていない
- [ ] 他のセクション（売主・買主・物件）のカラーに影響がない
- [ ] 視覚的確認が完了している

## 9. 参考資料

### 既存のカラー統一実装
- 売主リスト: オレンジ（`#ff9800`）で統一済み
- 買主リスト: 緑（`#4caf50`）で統一済み
- 物件リスト: 青（`#2196f3`）で統一済み

### カラー定義ファイル
- `frontend/src/theme/sectionColors.ts` - セクション別カラー定義
